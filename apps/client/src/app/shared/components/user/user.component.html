<div class="user" *ngIf="profile">
  <div class="user__inner" *transloco="let t">
    <div class="user__ava" *ngIf="profile">
      <img
        *ngIf="profile.avatar; else fallbackImg"
        [src]="profile.avatar"
        [alt]="userName"
      />
      <ng-template #fallbackImg>
        <span photobook-app-icon [icon]="userIcon"></span>
      </ng-template>
      <div class="user__change-photo" *ngIf="isEdit">
        <photobook-upload-image formControlName="{{ avatarControl }}">
          {{ t('changePhoto') }}
        </photobook-upload-image>
      </div>
    </div>

    <div class="user__info">
      <div class="user__name">
        <span *ngIf="!isEdit; else editName">{{ userName }}</span>
        <ng-template #editName>
          <span class="user__field">
            <input
              class="user__control"
              type="text"
              formControlName="{{ firstNameControl }}"
              placeholder="{{ t('controls.firstName') }}"
            />
            <input
              class="user__control"
              type="text"
              formControlName="{{ lastNameControl }}"
              placeholder="{{ t('controls.lastName') }}"
            />
          </span>
        </ng-template>
      </div>
      <div class="user__desc">
        <span *ngIf="!isEdit; else editDesc">{{ profile.description }}</span>
        <ng-template #editDesc>
          <span class="user__field">
            <textarea
              class="user__control"
              placeholder="{{ t('controls.description') }}"
              formControlName="{{ descriptionControl }}"
            ></textarea>
          </span>
        </ng-template>
      </div>
    </div>
  </div>
</div>

<div class="user-fallback" *ngIf="!profile">
  <div class="user-fallback__ava"></div>
  <div class="user-fallback__content">
    <div class="user-fallback__content-row"></div>
    <div class="user-fallback__content-row"></div>
  </div>
</div>
